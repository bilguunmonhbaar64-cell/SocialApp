import React from 'react';
import { 
  Search, 
  MessageCircle, 
  Home as HomeIcon, 
  Users, 
  MonitorPlay, 
  Store, 
  Bell, 
  Menu,
  Plus,
  MoreHorizontal,
  ThumbsUp,
  MessageSquare,
  Share2,
  X
} from 'lucide-react';

// Mock Data
const STORIES = [
  { id: 0, user: 'You', img: 'https://public.youware.com/users-website-assets/prod/a75881b7-308c-4271-80ce-76a6227bc546/2776305cb7c74b518445877395b6fd1b.jpg', isUser: true },
  { id: 1, user: 'Otgonbaatar', img: 'https://public.youware.com/users-website-assets/prod/a75881b7-308c-4271-80ce-76a6227bc546/a7e56b5d9a414333af36830c7313b44c.jpg', avatar: 'https://public.youware.com/users-website-assets/prod/a75881b7-308c-4271-80ce-76a6227bc546/a7e56b5d9a414333af36830c7313b44c.jpg' },
  { id: 2, user: 'Azaa Bkh', img: 'https://public.youware.com/users-website-assets/prod/a75881b7-308c-4271-80ce-76a6227bc546/d99cd5cf3e8545fc9bbbe28515c97d7a.jpg', avatar: 'https://public.youware.com/users-website-assets/prod/a75881b7-308c-4271-80ce-76a6227bc546/d99cd5cf3e8545fc9bbbe28515c97d7a.jpg' },
  { id: 3, user: 'Sarah J', img: 'https://public.youware.com/users-website-assets/prod/a75881b7-308c-4271-80ce-76a6227bc546/b7bdf2c10ad1425584a9d25f105f6e8e.jpg', avatar: 'https://public.youware.com/users-website-assets/prod/a75881b7-308c-4271-80ce-76a6227bc546/b7bdf2c10ad1425584a9d25f105f6e8e.jpg' },
];

const POSTS = [
  {
    id: 1,
    user: 'Urgoo Cinema - Fan Zone',
    avatar: 'https://public.youware.com/users-website-assets/prod/a75881b7-308c-4271-80ce-76a6227bc546/c85092476493499e9c7bcf274a7868a0.jpg',
    time: 'Jan 30',
    content: 'ÐÐ°Ð¹Ñ€ÑƒÑƒÐ»Ð°Ð³Ñ‡ Christopher Nolan-Ñ‹ "The Dark Knight" ÐºÐ¸Ð½Ð¾ Timothee Chalamet-Ð´ Ð¶Ò¯Ð¶Ð¸Ð³Ñ‡Ð¸Ð½ Ð±Ð¾Ð»Ð¾Ñ… ÑƒÑ€Ð°Ð¼ Ð·Ð¾Ñ€Ð¸Ð³ Ó©Ð³ÑÓ©Ð½ Ð³ÑÐ½Ñ. Ð¢ÑÑ€ Ð°Ð½Ñ… ÑÐ½Ñ ÐºÐ¸Ð½Ð¾Ð³ Ò¯Ð·...',
    image: 'https://public.youware.com/users-website-assets/prod/a75881b7-308c-4271-80ce-76a6227bc546/f5d02131c15447ea9320de112b4b1f67.jpg',
    likes: '1.2K',
    comments: '45',
    shares: '12'
  },
  {
    id: 2,
    user: 'Nature Lovers',
    avatar: 'https://public.youware.com/users-website-assets/prod/a75881b7-308c-4271-80ce-76a6227bc546/5fb5f9df61ed4df3a886fd97ecd87794.jpg',
    time: '2 hrs ago',
    content: 'Beautiful winter landscape! â„ï¸ðŸ”ï¸',
    image: 'https://public.youware.com/users-website-assets/prod/a75881b7-308c-4271-80ce-76a6227bc546/5fb5f9df61ed4df3a886fd97ecd87794.jpg',
    likes: '856',
    comments: '23',
    shares: '5'
  }
];

export const Home: React.FC = () => {
  return (
    <div className="bg-[#f0f2f5] min-h-screen pb-20">
      {/* Header */}
      <div className="bg-white sticky top-0 z-50 px-4 py-2 flex justify-between items-center shadow-sm">
        <h1 className="text-[#1877F2] text-3xl font-bold tracking-tighter">facebook</h1>
        <div className="flex gap-2">
          <div className="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center">
            <Plus className="w-6 h-6 text-black" />
          </div>
          <div className="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center">
            <Search className="w-6 h-6 text-black" />
          </div>
          <div className="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center relative">
            <MessageCircle className="w-6 h-6 text-black" />
            <div className="absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold w-5 h-5 rounded-full flex items-center justify-center border-2 border-white">1</div>
          </div>
        </div>
      </div>

      {/* Navigation Tabs */}
      <div className="bg-white flex justify-between px-2 py-2 border-b border-gray-200">
        <NavIcon icon={<HomeIcon className="w-7 h-7" />} active />
        <NavIcon icon={<MonitorPlay className="w-7 h-7" />} />
        <NavIcon icon={<Users className="w-7 h-7" />} />
        <NavIcon icon={<Store className="w-7 h-7" />} />
        <NavIcon icon={<Bell className="w-7 h-7" />} />
        <NavIcon icon={<Menu className="w-7 h-7" />} />
      </div>

      {/* Create Post */}
      <div className="bg-white p-4 mt-2 flex gap-3 items-center">
        <img 
          src="https://public.youware.com/users-website-assets/prod/a75881b7-308c-4271-80ce-76a6227bc546/2776305cb7c74b518445877395b6fd1b.jpg" 
          className="w-10 h-10 rounded-full object-cover"
          alt="Profile"
        />
        <div className="flex-1 bg-gray-100 rounded-full px-4 py-2 text-gray-600">
          What's on your mind?
        </div>
        <div className="text-green-500">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"/></svg>
        </div>
      </div>

      {/* Stories */}
      <div className="bg-white mt-2 py-4 pl-4 overflow-x-auto no-scrollbar">
        <div className="flex gap-2 w-max">
          {STORIES.map((story) => (
            <div key={story.id} className="relative w-28 h-48 rounded-xl overflow-hidden flex-shrink-0 bg-gray-200">
              <img src={story.img} className={`w-full h-full object-cover ${story.isUser ? 'opacity-80' : ''}`} alt="Story" />
              {story.isUser ? (
                <div className="absolute bottom-0 w-full bg-white h-12 flex flex-col items-center pt-4 relative">
                  <div className="absolute -top-5 bg-[#1877F2] p-1 rounded-full border-4 border-white">
                    <Plus className="w-5 h-5 text-white" />
                  </div>
                  <span className="text-xs font-semibold mt-1">Create story</span>
                </div>
              ) : (
                <>
                  <div className="absolute top-3 left-3 w-10 h-10 rounded-full border-4 border-[#1877F2] overflow-hidden">
                    <img src={story.avatar} className="w-full h-full object-cover" alt="Avatar" />
                  </div>
                  <span className="absolute bottom-2 left-2 text-white font-semibold text-sm drop-shadow-md">
                    {story.user}
                  </span>
                </>
              )}
            </div>
          ))}
        </div>
      </div>

      {/* Feed */}
      <div className="flex flex-col gap-2 mt-2">
        {POSTS.map((post) => (
          <div key={post.id} className="bg-white pb-2">
            {/* Post Header */}
            <div className="p-3 flex justify-between items-start">
              <div className="flex gap-2">
                <div className="w-10 h-10 rounded-full overflow-hidden border border-gray-200">
                  <img src={post.avatar} className="w-full h-full object-cover" alt="Avatar" />
                </div>
                <div>
                  <h3 className="font-bold text-sm">{post.user}</h3>
                  <div className="flex items-center gap-1 text-gray-500 text-xs">
                    <span>{post.time}</span>
                    <span>â€¢</span>
                    <Users className="w-3 h-3" />
                  </div>
                </div>
              </div>
              <div className="flex gap-4 text-gray-500">
                <MoreHorizontal className="w-5 h-5" />
                <X className="w-5 h-5" />
              </div>
            </div>

            {/* Post Content */}
            <div className="px-3 pb-2">
              <p className="text-sm leading-normal">{post.content}</p>
            </div>
            
            {post.image && (
              <div className="w-full">
                <img src={post.image} className="w-full object-cover max-h-[500px]" alt="Post" />
              </div>
            )}

            {/* Post Stats */}
            <div className="px-3 py-2 flex justify-between items-center border-b border-gray-200">
              <div className="flex items-center gap-1">
                <div className="bg-[#1877F2] p-1 rounded-full">
                  <ThumbsUp className="w-3 h-3 text-white fill-white" />
                </div>
                <span className="text-gray-500 text-sm">{post.likes}</span>
              </div>
              <div className="text-gray-500 text-sm">
                {post.comments} comments â€¢ {post.shares} shares
              </div>
            </div>

            {/* Post Actions */}
            <div className="px-2 py-1 flex justify-between">
              <ActionButton icon={<ThumbsUp className="w-5 h-5" />} label="Like" />
              <ActionButton icon={<MessageSquare className="w-5 h-5" />} label="Comment" />
              <ActionButton icon={<Share2 className="w-5 h-5" />} label="Share" />
            </div>
          </div>
        ))}
      </div>
    </div>
  );
};

const NavIcon = ({ icon, active }: { icon: React.ReactNode, active?: boolean }) => (
  <div className={`p-2 rounded-lg ${active ? 'text-[#1877F2] border-b-2 border-[#1877F2]' : 'text-gray-500 hover:bg-gray-100'}`}>
    {icon}
  </div>
);

const ActionButton = ({ icon, label }: { icon: React.ReactNode, label: string }) => (
  <button className="flex-1 flex items-center justify-center gap-2 py-2 text-gray-500 font-medium hover:bg-gray-100 rounded-lg">
    {icon}
    <span className="text-sm">{label}</span>
  </button>
);
